-- Gui to Lua converted for loadstring

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

-- Instances
local UiLibary = Instance.new("ScreenGui")
UiLibary.Name = "Ui Libary"
UiLibary.Parent = LocalPlayer:WaitForChild("PlayerGui")
UiLibary.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local UiBackground = Instance.new("Frame")
UiBackground.Name = "Ui Background"
UiBackground.Parent = UiLibary
UiBackground.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
UiBackground.BorderSizePixel = 0
UiBackground.Position = UDim2.new(0.2605,0,0.0208,0)
UiBackground.Size = UDim2.new(0, 874, 0, 852)
Instance.new("UICorner", UiBackground)

-- Close Button
local CloseUi = Instance.new("TextButton")
CloseUi.Name = "Close Ui"
CloseUi.Parent = UiBackground
CloseUi.BackgroundTransparency = 1
CloseUi.Position = UDim2.new(0.9424, 0, -0.0006, 0)
CloseUi.Size = UDim2.new(0, 34, 0, 29)
CloseUi.Font = Enum.Font.Unknown
CloseUi.Text = "X"
CloseUi.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseUi.TextSize = 25

-- Hide Button
local HideUi = Instance.new("TextButton")
HideUi.Name = "Hide Ui"
HideUi.Parent = UiBackground
HideUi.BackgroundTransparency = 1
HideUi.Position = UDim2.new(0.904,0,-0.015,0)
HideUi.Size = UDim2.new(0,33,0,37)
HideUi.Font = Enum.Font.Unknown
HideUi.Text = "_"
HideUi.TextColor3 = Color3.fromRGB(255,255,255)
HideUi.TextSize = 25

-- Drag button
local DragUi = Instance.new("ImageButton")
DragUi.Name = "Drag Ui"
DragUi.Parent = UiBackground
DragUi.BackgroundTransparency = 1
DragUi.Position = UDim2.new(0.869,0,0,0)
DragUi.Size = UDim2.new(0,30,0,30)
DragUi.Image = "rbxassetid://136031891481355"

-- Ui Info
local UiInfo = Instance.new("Frame")
UiInfo.Name = "Ui Info"
UiInfo.Parent = UiBackground
UiInfo.BackgroundTransparency = 1
UiInfo.Size = UDim2.new(0,325,0,113)
UiInfo.Position = UDim2.new(0.01,0,0.013,0)
Instance.new("UICorner", UiInfo)

local Name = Instance.new("TextLabel")
Name.Name = "Name"
Name.Parent = UiInfo
Name.BackgroundTransparency = 1
Name.Position = UDim2.new(-0.029,0,0.044,0)
Name.Size = UDim2.new(0,200,0,50)
Name.Font = Enum.Font.FredokaOne
Name.Text = "TWISTZZ"
Name.TextColor3 = Color3.fromRGB(0,0,255)
Name.TextSize = 40

local Name2 = Instance.new("TextLabel")
Name2.Name = "Name2"
Name2.Parent = UiInfo
Name2.BackgroundTransparency = 1
Name2.Position = UDim2.new(0.423,0,0.044,0)
Name2.Size = UDim2.new(0,200,0,50)
Name2.Font = Enum.Font.FredokaOne
Name2.Text = "SCRIPTS"
Name2.TextColor3 = Color3.fromRGB(255,255,255)
Name2.TextSize = 40

-- Ui Sections
local UiSections = Instance.new("Frame")
UiSections.Name = "Ui Sections"
UiSections.Parent = UiBackground
UiSections.BackgroundColor3 = Color3.fromRGB(21,21,21)
UiSections.Position = UDim2.new(0.017,0,0.108,0)
UiSections.Size = UDim2.new(0,233,0,650)
Instance.new("UICorner", UiSections)

local TabSection1 = Instance.new("TextLabel")
TabSection1.Name = "TabSection1"
TabSection1.Parent = UiSections
TabSection1.BackgroundTransparency = 1
TabSection1.Position = UDim2.new(0.072,0,0,0)
TabSection1.Size = UDim2.new(0,92,0,38)
TabSection1.Font = Enum.Font.FredokaOne
TabSection1.Text = "General"
TabSection1.TextColor3 = Color3.fromRGB(255,255,255)
TabSection1.TextSize = 20

local ElementsTab = Instance.new("TextButton")
ElementsTab.Name = "ElementsTab"
ElementsTab.Parent = TabSection1
ElementsTab.BackgroundColor3 = Color3.fromRGB(77,77,77)
ElementsTab.Position = UDim2.new(-0.0108,0,1,0)
ElementsTab.Size = UDim2.new(0,200,0,50)
ElementsTab.Font = Enum.Font.FredokaOne
ElementsTab.Text = "Elements"
ElementsTab.TextColor3 = Color3.fromRGB(255,255,255)
ElementsTab.TextSize = 20
Instance.new("UICorner", ElementsTab)

-- Section
local Section1 = Instance.new("Frame")
Section1.Name = "Section1"
Section1.Parent = ElementsTab
Section1.BackgroundColor3 = Color3.fromRGB(21,21,21)
Section1.Position = UDim2.new(1.235,0,-0.76,0)
Section1.Size = UDim2.new(0,273,0,413)
Instance.new("UICorner", Section1)

local Button = Instance.new("TextButton")
Button.Name = "Button"
Button.Parent = Section1
Button.BackgroundColor3 = Color3.fromRGB(111,111,111)
Button.BackgroundTransparency = 0.7
Button.Position = UDim2.new(0.1318,0,0.1162,0)
Button.Size = UDim2.new(0,200,0,50)
Button.Font = Enum.Font.FredokaOne
Button.TextColor3 = Color3.fromRGB(255,255,255)
Button.TextSize = 20

local Toggle = Instance.new("TextButton")
Toggle.Name = "Toggle"
Toggle.Parent = Section1
Toggle.BackgroundColor3 = Color3.fromRGB(177,0,6)
Toggle.BackgroundTransparency = 0.7
Toggle.Position = UDim2.new(0.1318,0,0.2832,0)
Toggle.Size = UDim2.new(0,200,0,50)
Toggle.Font = Enum.Font.FredokaOne
Toggle.Text = "Toggle : OFF"
Toggle.TextColor3 = Color3.fromRGB(255,255,255)
Toggle.TextSize = 20
Instance.new("UICorner", Toggle)

-- Toggle Script
Toggle.MouseButton1Click:Connect(function()
	if Toggle.Text == "Toggle : OFF" then
		Toggle.Text = "Toggle : ON"
		Toggle.BackgroundColor3 = Color3.fromRGB(60,180,75)
	else
		Toggle.Text = "Toggle : OFF"
		Toggle.BackgroundColor3 = Color3.fromRGB(177,0,6)
	end
end)

-- Close Script
CloseUi.MouseButton1Click:Connect(function()
	TweenService:Create(UiBackground, TweenInfo.new(0.5, Enum.EasingStyle.Quint, Enum.EasingDirection.In), {Position=UDim2.new(0.5,0,-0.5,0)}):Play()
	wait(0.5)
	UiLibary:Destroy()
end)

-- Hide Script
local hidden = false
local shownPos = UDim2.new(0.5,0,0.5,0)
local hiddenPos = UDim2.new(0.5,0,-1,0)
HideUi.MouseButton1Click:Connect(function()
	hidden = not hidden
	local target = hidden and hiddenPos or shownPos
	TweenService:Create(UiBackground, TweenInfo.new(0.5, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {Position=target}):Play()
end)
UserInputService.InputBegan:Connect(function(input, processed)
	if not processed and input.KeyCode == Enum.KeyCode.K then
		hidden = not hidden
		local target = hidden and hiddenPos or shownPos
		TweenService:Create(UiBackground, TweenInfo.new(0.5, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {Position=target}):Play()
	end
end)

-- Drag Script
local dragging = false
local dragStart
local startPos
local dragInput

DragUi.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = UiBackground.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)
DragUi.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end
end)
UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		local delta = input.Position - dragStart
		UiBackground.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end
end)
